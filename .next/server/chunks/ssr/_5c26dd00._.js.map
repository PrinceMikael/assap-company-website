{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts","../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts","../../../../app/actions/send-quote-request.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n","// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n","\"use server\"\n\nexport interface QuoteRequestData {\n  name: string\n  email: string\n  phone: string\n  company: string\n  subject: string\n  message: string\n}\n\nexport async function sendQuoteRequest(data: QuoteRequestData) {\n  // Validate required fields\n  if (!data.name || !data.email || !data.subject || !data.message) {\n    return {\n      success: false,\n      error: \"Please fill in all required fields\",\n    }\n  }\n\n  // Validate email format\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  if (!emailRegex.test(data.email)) {\n    return {\n      success: false,\n      error: \"Please provide a valid email address\",\n    }\n  }\n\n  try {\n    // Format the message for WhatsApp\n    const whatsappMessage = `*New Quote Request from ASSAP Website*\n\n*Contact Details:*\nName: ${data.name}\nEmail: ${data.email}\nPhone: ${data.phone || \"Not provided\"}\nCompany: ${data.company || \"Not provided\"}\n\n*Subject:* ${data.subject}\n\n*Message:*\n${data.message}\n\n---\nSent from ASSAP Company Website`\n\n    // Encode the message for WhatsApp URL\n    const encodedMessage = encodeURIComponent(whatsappMessage)\n    const whatsappNumber = \"255752026592\" // ASSAP WhatsApp number\n    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`\n\n    return {\n      success: true,\n      message: \"Redirecting to WhatsApp...\",\n      whatsappURL: whatsappURL,\n    }\n  } catch (error) {\n    console.error(\"Error processing quote request:\", error)\n    return {\n      success: false,\n      error: \"Failed to process your request. Please try again.\",\n    }\n  }\n}\n"],"names":["registerServerReference","ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"6CAAoD,OAAA,cAAA,CAAA,EAAA,aAAA,oCAC3CA,0BAAAA,qCAAAA,EAAAA,uBAAuB,YAAQ,CAAA,CAAA,IAAA,iCCEjC,SAASC,EAAyBC,CAAc,EACrD,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQE,MAAM,CAAED,IAAK,CACvC,IAAME,EAASH,CAAO,CAACC,EAAE,CACzB,GAAsB,YAAlB,AAA8B,OAAvBE,EACT,MAAM,OAAA,cAEL,CAFK,AAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,EAAO;AAAA,oEAAuE,CAAC,EADhJ,oBAAA,OAAA,mBAAA,gBAAA,CAEN,EAEJ,CACF,0EATgBJ,2BAAAA,qCAAAA,8CCQT,eAAe,EAAiB,CAAsB,EAE3D,GAAI,CAAC,EAAK,IAAI,EAAI,CAAC,EAAK,KAAK,EAAI,CAAC,EAAK,OAAO,EAAI,CAAC,EAAK,OAAO,CAC7D,CAD+D,KACxD,CACL,SAAS,EACT,MAAO,oCACT,EAKF,GAAI,CADe,AACd,6BAAW,IAAI,CAAC,EAAK,KAAK,EAC7B,CADgC,KACzB,CACL,SAAS,EACT,MAAO,sCACT,EAGF,GAAI,CAEF,IAAM,EAAkB,CAAC;;;MAGvB,EAAE,EAAK,IAAI,CAAC;OACX,EAAE,EAAK,KAAK,CAAC;OACb,EAAE,EAAK,KAAK,EAAI,eAAe;SAC7B,EAAE,EAAK,OAAO,EAAI,eAAe;;WAE/B,EAAE,EAAK,OAAO,CAAC;;;AAG1B,EAAE,EAAK,OAAO,CAAC;;;+BAGgB,CAAC,CAGtB,EAAiB,mBAAmB,GAEpC,EAAc,CAAC,cAAc,EAAE,eAAe,GAAQ,GAAF,AAAkB,CAE5E,MAAO,CACL,SAAS,EACT,QAAS,6BACT,YAAa,CACf,CACF,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,kCAAmC,GAC1C,CACL,SAAS,EACT,MAAO,mDACT,CACF,CACF,0CArDsB,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA","ignoreList":[0,1]}