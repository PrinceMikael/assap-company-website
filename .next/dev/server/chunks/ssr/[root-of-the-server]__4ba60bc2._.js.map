{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/assap-company-website%20%282%29/app/actions/send-quote-request.ts"],"sourcesContent":["\"use server\"\n\nimport nodemailer from \"nodemailer\"\n\nexport interface QuoteRequestData {\n  name: string\n  email: string\n  phone: string\n  company: string\n  subject: string\n  message: string\n}\n\nexport async function sendQuoteRequest(data: QuoteRequestData) {\n  // Validate required fields\n  if (!data.name || !data.email || !data.subject || !data.message) {\n    return {\n      success: false,\n      error: \"Please fill in all required fields\",\n    }\n  }\n\n  // Validate email format\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  if (!emailRegex.test(data.email)) {\n    return {\n      success: false,\n      error: \"Please provide a valid email address\",\n    }\n  }\n\n  try {\n    // Create nodemailer transporter\n    const transporter = nodemailer.createTransport({\n      service: \"gmail\",\n      auth: {\n        user: process.env.EMAIL_USER,\n        pass: process.env.EMAIL_PASSWORD,\n      },\n    })\n\n    // Format the email content\n    const emailContent = `\nNew Quote Request from ASSAP COMPANY LIMITED Website\n\nCONTACT DETAILS\n================\nName: ${data.name}\nEmail: ${data.email}\nPhone: ${data.phone || \"Not provided\"}\nCompany: ${data.company || \"Not provided\"}\n\nINQUIRY DETAILS\n================\nSubject: ${data.subject}\n\nMessage:\n${data.message}\n\n---\nThis message was sent from the ASSAP COMPANY LIMITED website contact form.\nPlease respond to: ${data.email}\n    `.trim()\n\n    // Send email\n    await transporter.sendMail({\n      from: process.env.EMAIL_USER,\n      to: process.env.EMAIL_TO,\n      subject: `New Quote Request: ${data.subject}`,\n      text: emailContent,\n      html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <h2 style=\"color: #0B3C5D;\">New Quote Request from ASSAP Website</h2>\n          \n          <h3 style=\"color: #0B3C5D; border-bottom: 2px solid #D4A154; padding-bottom: 5px;\">Contact Details</h3>\n          <p><strong>Name:</strong> ${data.name}</p>\n          <p><strong>Email:</strong> <a href=\"mailto:${data.email}\">${data.email}</a></p>\n          <p><strong>Phone:</strong> ${data.phone || \"Not provided\"}</p>\n          <p><strong>Company:</strong> ${data.company || \"Not provided\"}</p>\n          \n          <h3 style=\"color: #0B3C5D; border-bottom: 2px solid #D4A154; padding-bottom: 5px;\">Inquiry Details</h3>\n          <p><strong>Subject:</strong> ${data.subject}</p>\n          \n          <h4>Message:</h4>\n          <p style=\"background: #f5f5f5; padding: 15px; border-left: 4px solid #D4A154;\">${data.message.replace(/\\n/g, '<br>')}</p>\n          \n          <hr style=\"border: none; border-top: 1px solid #ddd; margin: 20px 0;\">\n          <p style=\"color: #666; font-size: 12px;\">This message was sent from the ASSAP COMPANY LIMITED website contact form.</p>\n        </div>\n      `,\n      replyTo: data.email,\n    })\n\n    return {\n      success: true,\n      message: \"Your quote request has been sent successfully. We will contact you shortly at \" + data.email,\n    }\n  } catch (error) {\n    console.error(\"Error sending quote request:\", error)\n    return {\n      success: false,\n      error: \"Failed to send your request. Please try again or contact us directly at info@assap.co.tz\",\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;AAWO,eAAe,iBAAiB,IAAsB;IAC3D,2BAA2B;IAC3B,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,KAAK,OAAO,EAAE;QAC/D,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,wBAAwB;IACxB,MAAM,aAAa;IACnB,IAAI,CAAC,WAAW,IAAI,CAAC,KAAK,KAAK,GAAG;QAChC,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;IAEA,IAAI;QACF,gCAAgC;QAChC,MAAM,cAAc,0JAAU,CAAC,eAAe,CAAC;YAC7C,SAAS;YACT,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,cAAc;YAClC;QACF;QAEA,2BAA2B;QAC3B,MAAM,eAAe,CAAC;;;;;MAKpB,EAAE,KAAK,IAAI,CAAC;OACX,EAAE,KAAK,KAAK,CAAC;OACb,EAAE,KAAK,KAAK,IAAI,eAAe;SAC7B,EAAE,KAAK,OAAO,IAAI,eAAe;;;;SAIjC,EAAE,KAAK,OAAO,CAAC;;;AAGxB,EAAE,KAAK,OAAO,CAAC;;;;mBAII,EAAE,KAAK,KAAK,CAAC;IAC5B,CAAC,CAAC,IAAI;QAEN,aAAa;QACb,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI,QAAQ,GAAG,CAAC,QAAQ;YACxB,SAAS,CAAC,mBAAmB,EAAE,KAAK,OAAO,EAAE;YAC7C,MAAM;YACN,MAAM,CAAC;;;;;oCAKuB,EAAE,KAAK,IAAI,CAAC;qDACK,EAAE,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,KAAK,CAAC;qCAC5C,EAAE,KAAK,KAAK,IAAI,eAAe;uCAC7B,EAAE,KAAK,OAAO,IAAI,eAAe;;;uCAGjC,EAAE,KAAK,OAAO,CAAC;;;yFAGmC,EAAE,KAAK,OAAO,CAAC,OAAO,CAAC,OAAO,QAAQ;;;;;MAKzH,CAAC;YACD,SAAS,KAAK,KAAK;QACrB;QAEA,OAAO;YACL,SAAS;YACT,SAAS,mFAAmF,KAAK,KAAK;QACxG;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YACL,SAAS;YACT,OAAO;QACT;IACF;AACF;;;IA3FsB;;AAAA,+OAAA"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///D:/assap-company-website%20%282%29/.next-internal/server/app/contact/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {sendQuoteRequest as '4028e25b9e8dc789be73489059f4a2027e8d7bfa0a'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}